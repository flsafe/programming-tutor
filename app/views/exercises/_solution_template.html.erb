<% new_or_existing = solution_template.new_record? ? 'new' : 'existing' %>
<% prefix = "exercise[#{new_or_existing}_solution_template_attributes][]" %>

<div class="solution_template">
<% fields_for prefix, solution_template do |f|%>
	<% if solution_template.new_record? then %>
		<%= f.label "solution_template_file", "Upload Solution Template" %><br/>
		<%=  f.file_field "solution_template_file"%> <%= link_to_function 'Remove', "this.up('.solution_template').remove()" %>
	<% else %>
		<%= f.label :src_language, "Solution Template Lang"%> 	 <%= link_to_function 'Remove', "this.up('.solution_template').remove()" %><br/>
		<%= f.text_field :src_language%><br/>
	
		<%= f.label :src_code, "Solution Template Code" %><br/>
		<%= f.text_area :src_code %><br/>
	<% end %>
<% end %>
</div>
