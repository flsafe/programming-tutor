<%= javascript '/javascripts/edit_area/edit_area_full' %>
<%= javascript '/javascripts/edit_area_setup' %>
<%= javascript '/javascripts/edit_area_resizing'%>

<% form_tag url_for(:action=>:grade), :id=>'editor' do %>

	<%= text_area_tag :textarea_1, editor_content || "", :name=>"code" %><br/>
	
	<%= submit_to_remote "check_syntax",'Check Syntax', 
				:update=>:message,
				:url=>{:action=>'check_syntax'},
				:before=>"Element.show('spinner');
									$('message').innerHTML = 'checking...';
				          $('textarea_1').setValue(editAreaLoader.getValue('textarea_1'));"%>
				
	<%= periodically_call_remote :update=>:message,
				:url=>{:action=>'syntax_status'}, 
				:condition=>"/checking/.test( $('message').innerHTML )",
				:complete=>"if( ! /checking/.test($('message').innerHTML) ){ Element.hide('spinner'); }"%>

	<%= submit_tag "Submit Solution" %>
<% end %>

<div id='dummy-unfocus-div'></div>
